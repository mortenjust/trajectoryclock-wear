YUI.add("photo-exif-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getExif"].run(t,this.appContext).then(function(e){return e},function(){})}},attributes:{camera:{},cameraType:{},cameraURL:{},data:{},exposureProgram:{},exposureTime:{},flash:{},flashFired:{},flashModeOff:{},flashModeOn:{},flashModeAuto:{},fNumber:{},focalLength:{},iso:{},lensModel:{},software:{},meteringMode:{}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photos-getExif-fetcher"]});
YUI.add("flickr-photos-getExif-fetcher",function(e,t){"use strict";function n(t,n){var r=t[0],i,s,o=t[1],u,a;if(r.photo)return i=t[0].photo.exif||[],s=t[0].photo.camera,u={id:n.id,camera:s,cameraType:t[0].photo.camera_type,cameraURL:t[0].photo.camera_url,data:[],flashFired:null,flashModeOff:null,flashModeOn:null,flashModeAuto:null,meteringMode:null},i.forEach(function(t){var n,r,i;t.tag&&t.raw&&(typeof t.tag=="string"&&(r=t.tag.search(/([A-Z][a-z])/),r===0?r=1:r===-1&&(r=t.tag.length),i=t.tag.slice(0,r).toLowerCase()+t.tag.slice(r)),u[i]=n=t.raw.content,u.data.push({label:t.label,value:e.Escape.html(n)}))}),a=[["lensModel","lens"]],a.forEach(function(e){var t=e.shift();while(e.length&&u[t]===undefined)u[t]=u[e.shift()]}),u.flash&&(u.flash.match(/on|fired/i)&&!u.flash.match(/did not/i)?u.flashFired=!0:u.flashFired=!1,u.flash=u.flash.substr(0,1).toUpperCase()+u.flash.substr(1).toLowerCase(),u.flash.match(/auto/i)?u.flashModeAuto=!0:u.flash.match(/on/i)?u.flashModeOn=!0:u.flash.match(/off|no flash/i)&&(u.flashModeOff=!0)),o.exists(n.id)||o.add(u),o.proxy(n.id)}function r(n,r){var i=n.id,s={photo_id:i,extras:"camera"},o=this;return e.Promise.all([r.callAPI("flickr.photos.getExif",s),r.getModelRegistry("photo-exif-models")]).then(function(e){return o._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ModelFetchers")["flickr-photos-getExif"]={run:r,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-exif-models"]});
